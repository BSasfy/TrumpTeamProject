package commandline;

import java.sql.*;

public class Database {
	
	int theThingYouNeed = 0;
	int currentRecord = 0;
	public Database() {
		// TODO Auto-generated constructor stub
	}

	public void LoadDatabase() {
		
		try {
			Connection connection = null;
			try {
				Class.forName("org.postgresql.Driver");
			} catch (ClassNotFoundException e) {
				System.out.println("Could not find JDBC Driver");
				e.printStackTrace();
				return;
			}

			try {
				Class.forName("org.postgresql.Driver");
				connection = DriverManager.getConnection("jdbc:postgresql://localhost:5432/FinalProject", "postgres",
						"root");
			} catch (Exception e) {
				System.out.println("Could not load class" + "org.postgresql.Driver");
				e.printStackTrace();
			}
			if (connection != null) {
				try {
					Statement statement = connection.createStatement();
					String insert = "INSERT INTO GAMESTATISTICS values(" + currentRecord+theThingYouNeed +" ,2,1,5.0,7)";
					statement.executeUpdate(insert);
					System.out.println("Statement successfully inserted");

//											
					ResultSet result = statement.executeQuery("SELECT * FROM GAMESTATISTICS");
					currentRecord = result.getInt("numberofgames");
					while (result.next()) {
						System.out.println("Game Statistics:");
						System.out.println(" Number of Games: " + result.getInt("numberofgames")
								+ "\n Number of Human Wins: " + result.getInt("numberhumanwins")
								+ "\n Number of AI Wins: " + result.getInt("numberaiwins")
								+ "\n Average number of Draws: " + result.getInt("averagenumberdraws")
								+ "\n Longest Game: " + result.getInt("longestgame"));
						System.out.println();
					}

				} catch (SQLException e) {
					e.printStackTrace();
				}

			}
		} catch (Exception e) {
			System.out.println(e);
		}
	}
	
	void setwhatever(int extraGame) {
		theThingYouNeed = extraGame;
	}
}
